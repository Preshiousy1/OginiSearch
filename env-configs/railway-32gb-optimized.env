# ===================================================
# RAILWAY 32GB RAM / 32 vCPU ULTRA OPTIMIZATION
# ===================================================

# === CORE APPLICATION OPTIMIZATIONS ===
NODE_ENV=production
NODE_OPTIONS=--max-old-space-size=24576 --expose-gc --optimize-for-size=false

# === CONCURRENCY OPTIMIZATIONS (32 vCPU) ===
INDEXING_CONCURRENCY=120
BULK_INDEXING_CONCURRENCY=80
DOC_PROCESSING_CONCURRENCY=100
SEARCH_CONCURRENCY=200
WORKER_CONCURRENCY=150

# === BATCH PROCESSING OPTIMIZATIONS ===
BULK_BATCH_SIZE=2000
BULK_MAX_BATCH_SIZE=5000
BULK_MAX_MEMORY_USAGE=0.9
BULK_TIMEOUT=300000

# === MEMORY OPTIMIZATIONS (32GB RAM) ===
MAX_CACHE_SIZE=50000
CACHE_TTL=3600
QUERY_CACHE_SIZE=10000
INDEX_CACHE_SIZE=20000
ANALYSIS_CACHE_SIZE=10000

# === PERFORMANCE BOOSTERS ===
ENABLE_FAST_DEDUPLICATION=true
ENABLE_PARALLEL_ANALYSIS=true
ENABLE_BATCH_PROCESSING=true
ENABLE_ASYNC_INDEXING=true
ENABLE_COMPRESSION=true

# === ANALYSIS WORKERS (32 vCPU) ===
ANALYSIS_WORKERS=32
ANALYSIS_THREADS=64
ANALYSIS_BATCH_SIZE=1000

# === DATABASE OPTIMIZATIONS ===
POSTGRES_MAX_CONNECTIONS=1000
POSTGRES_POOL_SIZE=200
POSTGRES_IDLE_TIMEOUT=30000
POSTGRES_CONNECTION_TIMEOUT=60000

# === REDIS OPTIMIZATIONS ===
REDIS_MAX_MEMORY=3gb
REDIS_MAX_CLIENTS=10000
REDIS_IO_THREADS=4
REDIS_PERSISTENCE=true

# === SEARCH OPTIMIZATIONS ===
SEARCH_TIMEOUT=30000
SEARCH_MAX_RESULTS=10000
SEARCH_CACHE_ENABLED=true
SEARCH_BM25_ENABLED=true
SEARCH_FUZZY_ENABLED=true

# === INDEXING OPTIMIZATIONS ===
INDEXING_TIMEOUT=600000
INDEXING_BATCH_SIZE=1000
INDEXING_MAX_RETRIES=3
INDEXING_RETRY_DELAY=5000

# === MONITORING AND LOGGING ===
LOG_LEVEL=info
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30
PERFORMANCE_MONITORING=true

# === RAILWAY SPECIFIC ===
RAILWAY_MEMORY_LIMIT=32768
RAILWAY_CPU_LIMIT=32
RAILWAY_MAX_CONNECTIONS=50
RAILWAY_ENVIRONMENT=production

# === SECURITY ===
JWT_SECRET=${JWT_SECRET}
API_KEY=${API_KEY}
CORS_ORIGIN=*
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=1000

# === WORKER CONFIGURATION ===
WORKER_MODE=false
WORKER_ID=main
WORKER_PROCESSES=4
WORKER_THREADS=8

# === CACHE CONFIGURATION ===
CACHE_STRATEGY=lru
CACHE_PERSISTENCE=true
CACHE_COMPRESSION=true
CACHE_ENCRYPTION=false

# === PERFORMANCE TUNING ===
GARBAGE_COLLECTION_INTERVAL=300000
MEMORY_CLEANUP_INTERVAL=600000
STATISTICS_UPDATE_INTERVAL=60000
HEALTH_CHECK_TIMEOUT=10000 